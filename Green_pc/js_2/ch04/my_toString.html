<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            const myArr = {
                0: 10,
                1: 43,
                2: 22,
                3: 38,
                4: 17,
                5: 56,
                6: 47,
                length: 7,
                forEach: function (cb) {
                    for (let i = 0; i < this.length; i++) {
                        const val = this[i];
                        cb(val, i);
                    }
                },
                filter: function (cb) {
                    const tempArr = [];
                    this.forEach(function (item) {
                        if (cb(item)) {
                            tempArr.push(item);
                        }
                    });
                    return tempArr;
                },
                map: function (cb) {
                    const tempArr = [];
                    this.forEach(function (item) {
                        tempArr.push(cb(item));
                    });
                    return tempArr;
                },
                // toString: function () {
                //     let a = "[";
                //     for (let i = 0; i < this.length; i++) {
                //         let val = this[i] + ",";
                //         if (i + 1 === this.length) {
                //             val = this[i] + "]";
                //         }
                //         a += val;
                //         console.log(val);
                //     }
                //     return a;
                // },
                toString: function (cb = this.length) {
                    let tempArr = "[";
                    for (let i = 0; i < cb; i++) {
                        tempArr += i < cb - 1 ? `${this[i]},` : `${this[i]}]`;
                    }
                    return tempArr;
                },
            };

            console.log(myArr.toString(5));
        </script>
    </body>
</html>
